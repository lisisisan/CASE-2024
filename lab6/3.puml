@startuml
state PlayerController {
    [*] --> NotInitialized
    NotInitialized --> Loading : startPlayer

    state Loading {
        [*] --> InitEngine : initEngine
        InitEngine --> InitUI : initUI
        InitUI --> LoadPlugins : loadPlugins
        LoadPlugins --> [*]
    }

    Loading --> Ready : loadingComplete
    
    state Ready {
        [*] --> Stopped
        Stopped --> Playing : play
        Playing --> Paused : pause
        Paused --> Playing : resume
        Playing --> Stopped : stop
        Paused --> Stopped : stop
        
        state MediaLibrary <<parallel>> {
            [*] --> SearchingContent : searchNewContent
            SearchingContent --> DownloadingInfo : contentFound
            DownloadingInfo --> [*] : downloadComplete
        }
    }

    Ready --> Loading : resetPlayer
}
@enduml
